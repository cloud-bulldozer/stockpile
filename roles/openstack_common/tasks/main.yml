---

- name: Determine if docker is running
  shell: docker ps | wc -l
  register: container_ps
  when: ansible_distribution_major_version == '7'

- name: Determine if docker is running
  shell: sudo podman ps | wc -l
  register: container_ps
  when: ansible_distribution_major_version == '8'

- name: Set var for container deployment
  set_fact:
    containers: True
    config_path: /var/lib/config-data/puppet-generated
  when: container_ps.stdout|int > 1

- name: Set fact for non-container deployment
  set_fact:
    config_path: /etc
  when: container_ps.stdout|int < 2

